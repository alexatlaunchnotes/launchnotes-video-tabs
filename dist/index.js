(()=>{window.Webflow||=[];window.Webflow.push(()=>{let s=document.querySelectorAll('[wb-autotabs="component"]');s.length===0&&console.error("No autotabs components found!"),s.forEach((n,A)=>{let c=Array.from(n.querySelectorAll(".w-tab-link")),i=n.querySelectorAll("video"),f=Array.from(n.querySelectorAll('[wb-autotabs="progress"]')),r=c.findIndex(t=>t.classList.contains("w--current")),a;i.forEach(t=>{t.removeAttribute("loop"),t.removeAttribute("autoplay")});async function u(t=r){i.forEach(o=>{o.currentTime-0,o.pause()}),await new Promise(o=>setTimeout(o,100)),r=t;let e=i[r%i.length];console.log(e,r),await e.play(),b(e,f[r]),e.onended=()=>{r=(r+1)%i.length,console.log("fired",r),h(c[r]),u(r)}}function b(t,e){let o=e.getAttribute("wb-autotabs-progress-direction")||"horizontal";if(o!=="horizontal"&&o!=="vertical"){console.error("invalid progress direction");return}a&&(cancelAnimationFrame(a),w(f));let m;function E(d){m||(m=d);let l=(d-m)/(t.duration*1e3);l=Math.min(l,1),o==="horizontal"?e.style.transform=`scaleX(${l})`:e.style.transform=`scaleY(${l})`,l<1&&(a=requestAnimationFrame(E))}a=requestAnimationFrame(E)}function w(t){t.forEach(e=>{let o=e.getAttribute("wb-autotabs-progress-direction")||"horizontal";if(o!=="horizontal"&&o!=="vertical"){console.error("invalid progress direction");return}o==="horizontal"?e.style.transform="scaleX(0)":e.style.transform="scaleY(0)"})}c.forEach((t,e)=>{t.addEventListener("click",()=>u(e))}),u()})});function h(s){let n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});s.dispatchEvent(n)}})();
//# sourceMappingURL=index.js.map
