(()=>{window.Webflow||=[];window.Webflow.push(()=>{let a=document.querySelectorAll('[wb-autotabs="component"]');a.length===0&&console.error("No autotabs components found!"),a.forEach((l,h)=>{let c=Array.from(l.querySelectorAll(".w-tab-link")),i=l.querySelectorAll("video"),d=Array.from(l.querySelectorAll('[wb-autotabs="progress"]')),o=c.findIndex(t=>t.classList.contains("w--current")),u;i.forEach(t=>{t.removeAttribute("loop"),t.removeAttribute("autoplay")}),c.forEach(t=>{let e=t.querySelector(".tab-body--pillars");!e||(t.classList.contains("w--current")?e.style.display="block":e.style.display="none")});async function m(t=o){i.forEach(n=>{n.currentTime-0,n.pause()}),await new Promise(n=>setTimeout(n,100)),o=t;let e=i[o%i.length];await e.play(),b(o),y(e,d[o]),e.onended=()=>{o=(o+1)%i.length,A(c[o]),m(o)}}function b(t){document.querySelectorAll(".w-tab-link").forEach(n=>{let r=n.querySelector(".tab-body--pillars");!r||(console.log(t,n),n.classList.contains("w--current")?r.style.display="block":(console.log(r),r.style.display="none"))})}function y(t,e){let n=e.getAttribute("wb-autotabs-progress-direction")||"horizontal";if(n!=="horizontal"&&n!=="vertical"){console.error("invalid progress direction");return}u&&(cancelAnimationFrame(u),T(d));let r;function f(E){r||(r=E);let s=(E-r)/(t.duration*1e3);s=Math.min(s,1),n==="horizontal"?e.style.transform=`scaleX(${s})`:e.style.transform=`scaleY(${s})`,s<1&&(u=requestAnimationFrame(f))}u=requestAnimationFrame(f)}function T(t){t.forEach(e=>{let n=e.getAttribute("wb-autotabs-progress-direction")||"horizontal";if(n!=="horizontal"&&n!=="vertical"){console.error("invalid progress direction");return}n==="horizontal"?e.style.transform="scaleX(0)":e.style.transform="scaleY(0)"})}c.forEach((t,e)=>{t.addEventListener("click",()=>m(e))}),m()})});function A(a){let l=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(l)}})();
//# sourceMappingURL=index.js.map
